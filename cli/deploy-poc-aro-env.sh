LOCATION=eastus2                # the location of your cluster
RESOURCEGROUP=POC-ARO-003           # the name of the resource group where you want to create your cluster
CLUSTER=oa-aro-poc-003                 # the name of your cluster

az login --service-principal -u $1 -p $2 --tenant $3

az group create --name $RESOURCEGROUP --location $LOCATION

az network vnet create --resource-group $RESOURCEGROUP --name aro-vnet --address-prefixes 10.0.0.0/22

az network vnet subnet create --resource-group $RESOURCEGROUP --vnet-name aro-vnet --name master-subnet --address-prefixes 10.0.0.0/23 --service-endpoints Microsoft.ContainerRegistry

az network vnet subnet create --resource-group $RESOURCEGROUP --vnet-name aro-vnet --name worker-subnet --address-prefixes 10.0.2.0/23 --service-endpoints Microsoft.ContainerRegistry

az network vnet subnet update --name master-subnet --resource-group $RESOURCEGROUP --vnet-name aro-vnet --disable-private-link-service-network-policies true

az aro create --resource-group $RESOURCEGROUP --name $CLUSTER --vnet aro-vnet --master-subnet master-subnet --worker-subnet worker-subnet --worker-count 3 --pull-secret={"auths":{"cloud.openshift.com":{"auth":"b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K2Fyb2F2aWxlczFlZXdseWphY2lqdmtsMjB6bTZuaW53cWZwbTo0OEw5VlRVNlo4Q0dQSDlXOVZCM0xKVzFZVUFSVFFOSkcyMlRSNElWTTZIRUdIQUFXTUtEME5COTZOUDY5MjNO","email":"omar.aviles@microsoft.com"},"quay.io":{"auth":"b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K2Fyb2F2aWxlczFlZXdseWphY2lqdmtsMjB6bTZuaW53cWZwbTo0OEw5VlRVNlo4Q0dQSDlXOVZCM0xKVzFZVUFSVFFOSkcyMlRSNElWTTZIRUdIQUFXTUtEME5COTZOUDY5MjNO","email":"omar.aviles@microsoft.com"},"registry.connect.redhat.com":{"auth":"NTM1Nzc2NTV8dWhjLTFlZVdMWUpBY0lqVktsMjB6TTZuaU5XUWZwbTpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSTVPVGRsTVdZeU0yUXpOVE0wTURCa1lXVmhaRE01TmpabE1qTXpNbVV6TmlKOS5XdUhhT0ZpUmkyaHZ6Y2xmSlM2RWVtRUVKdy1PR0dtQmZadjZYQk1uV1p3aDNidXNsLTdnaktkSm9QVmRnVHFkckc5M0NLRV9yaDFaYWNQNUFEMk0xOThYMzNsWHpqR0RiSG1lWlZ4X3F5UnRUMDhqeGVSMndyVE85T0VkbFhDTEg1Tmp3UlVHQldKcXRQZmY2c3dzRzlIZU5OZjhWa3BhYmRDa2tTMHI3eDgwU2xwajlINFpvRXU2akZuWVE1Y1RPY25KWFhtQjg2MEtEa0Vvano1eVgxbnRTNzdkWmdtQmwyNUJhYUppSUVtUnpsQi1DR2RINGdzMW9BbzU3SEtOSDFaN1ItQlRnX0lzbXo1UGh1NERqcEIzbWhxU1gyU25sZUlfc05YX3dLd1hTNVp0eU9sbXp2U1UtR2RtVUlOSmJINWgzWWU4RGgzekQ3UTFHM1o2Tmk0S0RxZXlzLU1zMHNJUU1jNlR6TDYxRFBxWno1MnJHNVhFZjU0bmdueEJSS3l4UDI4aGdQNUFWZXY5NllHdUhvYi1GN0xsVEh5MUQ3ZG03WUNpSTZJeS10RXJRa2lQUFdaWVotakVNM3oxN0xtY2g0aFVVdEQwRzdVRmh5QlctOGwxeUZCMUpSNW1HS1lHdEduN3BDMWtnay1QZWhuZ0hadlFMeTBqMFQ3aDlMUDVZa3F0RVJrZXRLUlBTZVpuUDhFUDZ0bEtQUHA2Yll2bmVNb29CUUk3ZFBiSGdHZVI1T2hTc2g2eGRFNUpCa1V3T0dPNWpneGtWZkdhT0E1SlMwSGxvLXNYT01TNXJrM2FqSnVrMTA2ZU5vWWVaN1o2SldJcnBsNUZrQW9ScW5XTEJBRzVjeXY0N3lHT0NRenFJclZtUnFPaE9yZ01WdnVHYnJRSTJmRQ==","email":"omar.aviles@microsoft.com"},"registry.redhat.io":{"auth":"NTM1Nzc2NTV8dWhjLTFlZVdMWUpBY0lqVktsMjB6TTZuaU5XUWZwbTpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSTVPVGRsTVdZeU0yUXpOVE0wTURCa1lXVmhaRE01TmpabE1qTXpNbVV6TmlKOS5XdUhhT0ZpUmkyaHZ6Y2xmSlM2RWVtRUVKdy1PR0dtQmZadjZYQk1uV1p3aDNidXNsLTdnaktkSm9QVmRnVHFkckc5M0NLRV9yaDFaYWNQNUFEMk0xOThYMzNsWHpqR0RiSG1lWlZ4X3F5UnRUMDhqeGVSMndyVE85T0VkbFhDTEg1Tmp3UlVHQldKcXRQZmY2c3dzRzlIZU5OZjhWa3BhYmRDa2tTMHI3eDgwU2xwajlINFpvRXU2akZuWVE1Y1RPY25KWFhtQjg2MEtEa0Vvano1eVgxbnRTNzdkWmdtQmwyNUJhYUppSUVtUnpsQi1DR2RINGdzMW9BbzU3SEtOSDFaN1ItQlRnX0lzbXo1UGh1NERqcEIzbWhxU1gyU25sZUlfc05YX3dLd1hTNVp0eU9sbXp2U1UtR2RtVUlOSmJINWgzWWU4RGgzekQ3UTFHM1o2Tmk0S0RxZXlzLU1zMHNJUU1jNlR6TDYxRFBxWno1MnJHNVhFZjU0bmdueEJSS3l4UDI4aGdQNUFWZXY5NllHdUhvYi1GN0xsVEh5MUQ3ZG03WUNpSTZJeS10RXJRa2lQUFdaWVotakVNM3oxN0xtY2g0aFVVdEQwRzdVRmh5QlctOGwxeUZCMUpSNW1HS1lHdEduN3BDMWtnay1QZWhuZ0hadlFMeTBqMFQ3aDlMUDVZa3F0RVJrZXRLUlBTZVpuUDhFUDZ0bEtQUHA2Yll2bmVNb29CUUk3ZFBiSGdHZVI1T2hTc2g2eGRFNUpCa1V3T0dPNWpneGtWZkdhT0E1SlMwSGxvLXNYT01TNXJrM2FqSnVrMTA2ZU5vWWVaN1o2SldJcnBsNUZrQW9ScW5XTEJBRzVjeXY0N3lHT0NRenFJclZtUnFPaE9yZ01WdnVHYnJRSTJmRQ==","email":"omar.aviles@microsoft.com"}}} -o table